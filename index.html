<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

    <script>

        var webSocket;
        $(document).ready(function(){

            $(".btnConnect").click(function(){

                webSocket=new WebSocket("ws://localhost:5160/wissen");

                webSocket.onopen=function(e){

                    //alert("Bağlandı : "+e);
                };

                webSocket.onclose=function(e){
                    debugger;
                    alert("Kapandı"+e);
                };
                webSocket.onerror=function(e){

                    alert("Hata"+e);
                };
                webSocket.onmessage=function(e){
                    
                    $(".lbltextarea").append(e.data);
                }

            });

            
            $(".btnDisconnect").click(function(){


                webSocket.close();
            });

            $(".btnSendMessage").click(function(){


               var message =   $(".txttext").val();
               $(".lbltextarea").append(message);
               webSocket.send(message);
               alert(message);



            });
        });
    </script>
<style>
    
</style>
</head>
<body>
    <div>
    <input class="btnConnect" type="button" value="Connect">
    <input class="btnDisconnet" type="button" value="DisConnect">
     </div>
<div>
    <textarea class="lbltextarea" style="height: 200px;width: 300px;"></textarea>
</div>
<div>
    <input type="text" class="txttext">
    <input class="btnSendMessage" type="button" value="Send">
</div>

</body>
</html>
